var $=jQuery.noConflict();!function(a){var t={ready:function(){wow=new WOW({mobile:!1}),wow.init(),a("#btnLogin").click(function(){a("#fmLogin").ajaxForm({dataType:"json",beforeSubmit:function(){a("input").each(function(){a(this).trigger("blur")})},success:function(a,n){a.login?window.location=a.url:(t.notify(a.msg),t.reloadSecure())}}),a("#fmLogin").submit()}),a("#fmLogin").find("input").keypress(function(t){13==t.which&&(a(this).blur(),a("#btnLogin").click())}),a("#kd_prop").change(function(){"X"==a(this).val()?(a("#kd_jenjang").hide(),a("#chart1").show(),a("#chart2").hide()):(a("#chart1").hide(),a("#chart2").show(),a("#kd_jenjang").show(),t.createBar())}),a("#kd_jenjang").change(function(){t.createBar()}),a("#kd_prop").change();var n=a("#carousel"),e=n.find(".carousel-item:first").find("[data-animation ^= 'animated']");n.carousel({interval:7e3}),a("#carousel").on("slide.bs.carousel",function(n){t.doAnimation(a(n.relatedTarget).find("[data-animation ^= 'animated']"))}),t.reloadSecure(),t.jump(),a("#tentang").length>0&&(a("a.nav-link").on("click",function(t){res=a(this).attr("href").split("#"),hash="#"+res[1],a(hash).length>0&&(t.preventDefault(),scroll=a(hash).offset().top+a("body").scrollTop(),window.location.hash=hash,document.body.scrollTop=scroll-100,a(".nav-link").closest(".nav-item").removeClass("active"),a("#link-"+res[1]).closest(".nav-item").addClass("active"))}),t.doAnimation(e),t.createPie())},notify:function(t){var n;a("body").find(".notify").length<=0?(n=a("<div>",{class:"alert alert-danger notify"})).prependTo(a("body")):n=a("body").find(".notify"),n.html(t),n.prepend(a("<span>",{class:"fa fa-info-circle"}).css("margin-right","10px")),setTimeout(function(){n.addClass("show")},10),setTimeout(function(){n.removeClass("show")},5e3)},reloadSecure:function(){var t=baseURL+"login/secure?sid="+Math.random();a("#siimage").attr("src",t)},doAnimation:function(t){t.each(function(){var t=a(this),n=t.data("animation"),e=t.data("delay");t.attr("style","-webkit-animation-delay:"+e+";animation-delay:"+e),t.addClass(n).one("webkitAnimationEnd animationend",function(){t.removeClass(n)})})},jump:function(t){res=window.location.href.split("#"),hash="#"+res[1],a(hash).length>0&&(scroll=a(hash).offset().top+a("body").scrollTop(),a("html, body").animate({scrollTop:scroll-115}),a(".nav-link").closest(".nav-item").removeClass("active"),a("#link-"+res[1]).closest(".nav-item").addClass("active"))},createPie:function(){for(var t=["pie1","pie2","pie3","pie4","pie5","pie6"],n=0;n<t.length;n++){var e=document.getElementById(t[n]);new Chart(e,{type:"doughnut",data:{datasets:[{data:chartData[n].data,backgroundColor:["#0abb87","#5d78ff","#ffb822"],borderWidth:1}],labels:chartLabel},options:{legend:{display:!0,position:"right"},animation:{animateScale:!0,animateRotate:!0}}});a("#"+t[n]).parent().find("h6").html(chartData[n].title)}},createBar:function(){var t=a("#kd_prop").val(),n=a("#kd_jenjang").val();a.ajax({dataType:"json",type:"POST",url:baseURL+"api/v1/chart",data:{kd_jenjang:n,kd_prop:t},success:function(t){a("#bar-chart").height(t.height),a("#bar-chart").find("canvas").remove(),a("#bar-chart").append(a("<canvas>"));var n=a("#bar-chart").find("canvas");new Chart(n,{type:"horizontalBar",data:{labels:t.prop,datasets:[{label:"Mandiri",backgroundColor:"#0abb87",borderWidth:1,data:t.pelaksana},{label:"Sekolah Lain",backgroundColor:"#5d78ff",borderWidth:1,data:t.gabung},{label:"Belum Ditetapkan",backgroundColor:"#ffb822",borderWidth:1,data:t.non}]},options:{maintainAspectRatio:!1,legend:{position:"bottom"},scales:{xAxes:[{stacked:!0,ticks:{beginAtZero:!0,steps:10,max:100}}],yAxes:[{stacked:!0}]}}})}})}};a(document).ready(function(){t.ready()})}(jQuery);